import{r as a,j as e,B as N,c as ve,b as Ie,L as ne,z as be,h as y,s as ae,d as X,a as q,g as we}from"./index-G7ddQPW9.js";const Se="_hide_1h5us_1",Ce="_formOne_1h5us_4",h={hide:Se,formOne:Ce},Ne=()=>{const{indicated:d,show:u,showConfirm:f,setShowConfirm:m,setShow:l,passwordInput:p,confirmPasswordInput:g,emailInput:j,passWarning:_,confirmWarning:v,emailWarning:I}=a.useContext(T);return e.jsxs("div",{className:d==0?h.formOne:h.hide,children:[e.jsxs("div",{className:h.email,children:[e.jsx("h4",{children:"Email"}),e.jsx("input",{type:"text",ref:j}),e.jsx("span",{ref:I})]}),e.jsxs("div",{className:h.password,children:[e.jsx("h4",{children:"Password"}),e.jsx("input",{type:u?"text":"password",ref:p}),e.jsx("img",{src:u?"./password/visible.png":"./password/unsee.png",className:h.see_password,onClick:()=>{l(!u)}}),e.jsx("span",{ref:_})]}),e.jsxs("div",{className:h.confirm,children:[e.jsx("h4",{children:"Confirm Password"}),e.jsx("input",{type:f?"text":"password",ref:g}),e.jsx("img",{src:f?"./password/visible.png":"./password/unsee.png",className:h.see_confirm,onClick:()=>{m(!f)}}),e.jsx("span",{ref:v})]})]})},Te="_hide_p08ld_1",ye="_formTwo_p08ld_6",We="_top_p08ld_16",Ue="_notIndicated_p08ld_41",ke="_indicated_p08ld_46",S={hide:Te,formTwo:ye,top:We,notIndicated:Ue,indicated:ke},Be=()=>{const{indicated:d,usageOptions:u,handleUsageOptions:f,usingAsInput:m}=a.useContext(T);return e.jsxs("div",{className:d==1?S.formTwo:S.hide,children:[e.jsx("h3",{children:"I am using the Web Application as?"}),e.jsx("div",{children:e.jsxs("div",{className:S.top,children:[u.map((l,p)=>e.jsx(N,{content:l.content,className:l.isIndicated?S.indicated:S.notIndicated,func:()=>{f(p)}},l.content)),e.jsx("h3",{children:"What is your purpose?"}),e.jsx("textarea",{type:"text",placeholder:"Other reason...",ref:m})]})})]})},Ae="_hide_a52m3_1",Fe="_formThree_a52m3_5",C={hide:Ae,formThree:Fe},Pe=()=>{const{indicated:d,schoolInput:u,schoolWarning:f,grSecInput:m,grSecWarning:l,nickNameInput:p,nameWarning:g}=a.useContext(T);return e.jsxs("div",{className:d==2?C.formThree:C.hide,children:[e.jsxs("div",{className:C.username,children:[e.jsx("h4",{children:"Name"}),e.jsx("input",{type:"text",ref:p}),e.jsx("span",{ref:g})]}),e.jsxs("div",{className:C.password,children:[e.jsx("h4",{children:"School"}),e.jsx("input",{type:"text",ref:u}),e.jsx("span",{ref:f})]}),e.jsxs("div",{className:C.confirm,children:[e.jsx("h4",{children:"Grade & Section"}),e.jsx("input",{type:"text",ref:m}),e.jsx("span",{ref:l})]})]})},Re="_hide_z324w_8",Oe="_formFour_z324w_12",Ee="_wrapper_z324w_43",$e="_IndicatedButt_z324w_63",Le="_notIndicatedButt_z324w_73",x={hide:Re,formFour:Oe,wrapper:Ee,IndicatedButt:$e,notIndicatedButt:Le},ze=()=>{const{indicated:d,subjects:u,handleSubjects:f}=a.useContext(T);if(u!=null)return e.jsx("div",{className:d==3?x.formFour:x.hide,children:e.jsxs("div",{className:x.wrapper,children:[e.jsx("h4",{children:"What is your favorite subject?"}),e.jsx("div",{className:x.buttons,children:u.map((m,l)=>e.jsx(N,{func:()=>{f(l)},className:m.testClass==!0?x.IndicatedButt:x.notIndicatedButt,content:u[l].content},m+l.toString()))})]})})},De="_signUpWrapper_8b39y_12",Me="_Link_8b39y_32",Ge="_forms_8b39y_38",Xe="_toBottom_8b39y_49",qe="_bottom_8b39y_68",He="_buttons_8b39y_74",Je="_indicator_8b39y_96",Ke="_indicated_8b39y_110",Ve="_notIndicated_8b39y_114",Qe="_goToStartingPage_8b39y_146",r={signUpWrapper:De,Link:Me,forms:Ge,toBottom:Xe,bottom:qe,buttons:He,indicator:Je,indicated:Ke,notIndicated:Ve,goToStartingPage:Qe},T=a.createContext(),es=()=>{const{setLoading:d,setUser:u,prevPage:f,setTasksCache:m,setFoldersCache:l,setUserData:p}=a.useContext(ve),g=Ie(),j=a.useRef(null),_=a.useRef(null),v=a.useRef(null),I=a.useRef(null),W=a.useRef(null),U=a.useRef(null),k=a.useRef(null),B=a.useRef(null),A=a.useRef(null),F=a.useRef(null),P=a.useRef(null),R=a.useRef(null),b=a.useRef(null),[ce,oe]=a.useState(!1),[ie,re]=a.useState(!1),[o,w]=a.useState(0),[H,O]=a.useState([]),[J,E]=a.useState([]),[K,$]=a.useState([{content:"As a Student",isIndicated:!1},{content:"As a Teacher",isIndicated:!1},{content:"As a Employee",isIndicated:!1},{content:"I Am Just Using It.",isIndicated:!1}]),[V,L]=a.useState([{content:"TLE",testClass:!1},{content:"Mathematics",testClass:!1},{content:"Science",testClass:!1},{content:"English",testClass:!1},{content:"Colloquium",testClass:!1},{content:"Filipino",testClass:!1},{content:"Mapeh",testClass:!1},{content:"AP",testClass:!1},{content:"ESP",testClass:!1}]),le=()=>{var Q,Y,Z,ee,se,te;const n=(Q=v.current)==null?void 0:Q.value,s=(Y=j.current)==null?void 0:Y.value,i=(Z=W.current)==null?void 0:Z.value,c=(ee=k.current)==null?void 0:ee.value,t=(se=A.current)==null?void 0:se.value,G=(te=P.current)==null?void 0:te.value,pe=I.current,he=_.current,xe=U.current,ge=B.current,je=F.current,_e=R.current;return[[n,s,i,c,t,G],[pe,he,xe,ge,je,_e]]},z=async n=>{var c;const s=le();let i;if(o==0){if(i=D(s[0],s[1],o),!i){d(!0);try{await be(y,s[0][0],s[0][1]),u(y.currentUser),await ae(X(q,"Users",(c=y.currentUser)==null?void 0:c.uid),{email:s[0][0]}),w(o+1),m(null),l(null)}catch(t){console.log(t),t.code=="auth/email-already-in-use"&&(s[1][0].innerText="Email is already taken."),d(!1)}d(!1)}}else o==1||o==2?i=D(s[0],s[1],o):o==3&&n=="Submit"&&fe(s[0]);n=="next"&&o!=3&&!i?w(o+1):n=="back"&&o!=1&&w(o-1)},D=(n,s,i)=>{let c=!1;for(let t in n)i==0&&t<3?(n[t]==""&&(s[t].innerText="The input field is blank.",c=!0),t==0?n[t].includes("@gmail.com")||n[t].includes("@email.com")?s[t].innerText="":(s[t].innerText="This is not an email!",c=!0):t==1?n[t].length<=7?(s[t].innerText="The password is too short(maximum of 8 characters).",c=!0):s[t].innerText="":t==2&&(n[t]!=n[t-1]?(s[t].innerText="The password isn't match.",c=!0):s[t].innerText="")):i==2&&t>2&&(n[t]==""?(s[t].innerText="The input field is blank.",c=!0):(s[t].innerText="",c=!1));return!!c},de=n=>{let s=K;for(let i in s)if(i==n){s=s[n].content;break}O(s),$(i=>i.map((c,t)=>n==t?{...c,isIndicated:!0}:{...c,isIndicated:!1}))},ue=n=>{let s=V,i=[];s=s.map((c,t)=>n==t?{...c,testClass:c.testClass!=!0}:{...c});for(let c in s)s[c].testClass==!0&&i.push(s[c]);E([...i]),L(c=>c.map((t,G)=>n==G?{...t,testClass:t.testClass!=!0}:{...t}))},fe=async n=>{d(!0);try{const s=y.currentUser;await ae(X(q,"Users",s.uid),{favSubjects:J,usingAs:H,perInfo:{school:n[4],name:n[3],grSec:n[5],age:"",bDay:"",gender:"",hobbies:"",placeOfBirth:"",skills:"",contacts:{gMail:"",number:"",faceBook:""},purpose:b==null?void 0:b.current.value}});const i=await we(X(q,"Users",s.uid));p(i),g(f),M()}catch(s){console.log(s.message)}d(!1)};function M(){j.current.value="",_.current.value="",v.current.value="",I.current.value="",W.current.value="",U.current.value="",k.current.value="",B.current.value="",A.current.value="",F.current.value="",P.current.value="",R.current.value="",b.current.value="",L(n=>n.map(s=>({...s,testClass:!1}))),$(n=>n.map(s=>({...s,isIndicated:!1}))),O(null),E([]),w(0)}const me={passwordInput:j,passWarning:_,emailInput:v,emailWarning:I,confirmPasswordInput:W,confirmWarning:U,nickNameInput:k,nameWarning:B,schoolInput:A,schoolWarning:F,grSecInput:P,grSecWarning:R,usingAsInput:b,show:ce,setShow:oe,showConfirm:ie,setShowConfirm:re,indicated:o,setIndication:w,usage:H,setUsage:O,selectedSubjects:J,setSelectedSubjects:E,usageOptions:K,setUsageOptions:$,subjects:V,setSubjects:L,handleUsageOptions:de,handleSubjects:ue};return e.jsx(e.Fragment,{children:e.jsx(T.Provider,{value:me,children:e.jsxs("div",{className:r.signUpWrapper,children:[e.jsx(ne,{to:f!=""?f:"/AcadComponent/",className:r.Link,children:e.jsx(N,{func:()=>{M()},content:"X",className:r.goToStartingPage})}),e.jsxs("form",{onSubmit:n=>{n.preventDefault()},className:r.forms,children:[e.jsx("header",{children:"SIGN UP"}),e.jsxs("div",{className:r.toBottom,children:[e.jsx(Ne,{}),e.jsx(Be,{}),e.jsx(Pe,{}),e.jsx(ze,{}),e.jsxs("div",{className:r.bottom,children:[e.jsxs("div",{className:r.buttons,children:[e.jsx(N,{content:"BACK",func:()=>{z("back")}}),e.jsx(N,{content:o==3||o==0?"SUBMIT":"NEXT",func:()=>{o==3||o==0?z("Submit"):z("next")}})]}),e.jsxs("div",{className:r.indicator,children:[e.jsx("div",{className:o==0?r.indicated:r.notIndicated}),e.jsx("div",{className:o==1?r.indicated:r.notIndicated}),e.jsx("div",{className:o==2?r.indicated:r.notIndicated}),e.jsx("div",{className:o==3?r.indicated:r.notIndicated})]}),e.jsx("h4",{id:r.SignUp,onClick:()=>{M()},children:e.jsx(ne,{to:"/AcadComponent/SignIn",className:r.linkBottom,children:"Already Have An Account?"})})]})]})]})]})})})};export{es as default,T as signUpContext};
