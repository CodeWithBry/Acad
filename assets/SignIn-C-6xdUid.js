import{r,c as S,b as W,j as s,L as P,B as k,p as T,h as p,G as E,q as G,d as L,a as R,g as U}from"./index-Dij1GS7W.js";const b="_signInWrapper_1k4ms_10",y="_Link_1k4ms_27",B="_goToStartingPage_1k4ms_32",F="_topArc_1k4ms_44",D="_form_1k4ms_57",q="_userNameCon_1k4ms_64",H="_passwordCon_1k4ms_65",V="_moreActions_1k4ms_72",M="_signInButton_1k4ms_128",O="_otherPlatformsWrapper_1k4ms_144",X="_iconsWrapper_1k4ms_155",$="_wrapper_1k4ms_161",e={signInWrapper:b,Link:y,goToStartingPage:B,topArc:F,form:D,userNameCon:q,passwordCon:H,moreActions:V,signInButton:M,otherPlatformsWrapper:O,iconsWrapper:X,wrapper:$};function Z(){const{setUser:x,setShowSignInPrompt:z,setShowSignUpPrompt:J,setLoading:u,setContinueAs:h,pagination:_,prevPage:m}=r.useContext(S),w=W(),[d,N]=r.useState(!1),[K,Q]=r.useState(),a=r.useRef(null),o=r.useRef(null),c=r.useRef(null),i=r.useRef(null),g=()=>{const n=c==null?void 0:c.current.value,t=i==null?void 0:i.current.value,l=a.current,I=o.current;return{email:n,pass:t,warning1:l,warning2:I}},f=()=>{const n=g();n.email&&(n.email=""),n.pass&&(n.pass=""),n.warning1.innerText="",n.warning2.innerText=""},j=n=>{const t=g();return(n==null?void 0:n.target.value)==""||t.email==""?a.current.textContent="The input field is blank!":a.current.textContent="",!1},v=n=>{const t=g();return(n==null?void 0:n.target.value)==""||t.pass==""?o.current.textContent="The input field is blank!":o.current.textContent="",!1},C=async()=>{j(),v();{u(!0);try{await T(p,c.current.value,i.current.value),f(),x(p.currentUser),h(!0),w(m),_(0)}catch(n){console.log(n),n.code=="auth/invalid-email"&&(a.current.textContent="Invalid email/Email doesn't exist."),n.code=="auth/invalid-credential"&&(o.current.textContent="Password does not match."),n.code=="auth/network-request-failed"&&alert("Network Error, unable to sign in. Please try again.")}u(!1)}},A=async()=>{var t;const n=new E;u(!0);try{await G(p,n),f(),x(p.currentUser);const l=L(R,"Users",(t=p.currentUser)==null?void 0:t.uid),I=await U(l);h(!0),w(m),_(0)}catch(l){console.log(l)}u(!1)};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:e.signInWrapper,children:[s.jsx(P,{to:m!=""?m:"/AcadComponent/",className:e.Link,children:s.jsx(k,{func:()=>{f()},content:"X",className:e.goToStartingPage})}),s.jsx("div",{className:e.topArc,children:"SIGN IN"}),s.jsxs("div",{className:e.form,children:[s.jsxs("div",{className:e.userNameCon,children:[s.jsx("h3",{children:"Username :"}),s.jsx("input",{className:"emailInput",ref:c,onInput:n=>{j(n)}}),s.jsx("span",{ref:a})]}),s.jsxs("div",{className:e.passwordCon,children:[s.jsx("h3",{children:"Password :"}),s.jsx("input",{type:d?"text":"password",ref:i,onInput:n=>{v(n)},className:e.Password}),s.jsx("span",{ref:o}),s.jsx("img",{src:d?"./password/visible.png":"./password/unsee.png",className:e.seePassword,onClick:()=>{N(!d)}})]}),s.jsxs("div",{className:e.moreActions,children:[s.jsx("span",{className:e.forgotPass,children:"Forgot Password"}),s.jsx(P,{className:e.createAcc,to:"/AcadComponent/SignUp",children:"Doesn't Have An Account?"})]}),s.jsx(k,{className:e.signInButton,func:()=>{C()},content:"SIGN IN"})]}),s.jsxs("div",{className:e.otherPlatformsWrapper,children:[s.jsxs("div",{className:e.iconsWrapper,children:[s.jsx("div",{className:e.wrapper,onClick:()=>{A()},children:s.jsx("img",{src:"./platforms/GG.png "})}),s.jsx("div",{className:e.wrapper,children:s.jsx("img",{src:"./platforms/facebook.png"})}),s.jsx("div",{className:e.wrapper,children:s.jsx("img",{src:"./platforms/Instagram.png"})})]}),s.jsx("h3",{children:"SIGN IN WITH DIFFERENT PLATFORMS"})]})]})})}export{Z as default};
